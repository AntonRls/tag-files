@if (libraryItemsList | async; as libraryItemsList) {
<lightgallery class="gallery" [settings]="gallerySettings">
    <table class="mat-elevation-z8 table" mat-table [dataSource]="libraryItemsList.items">
        <ng-container matColumnDef="image">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let element">
                <div class="gallery-item" [attr.data-src]="'http://localhost:5010/' + element.path">
                    <img class="gallery-item-image" [src]="'http://localhost:5010/' + element.thumbnailPath" />
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="tags">
            <th mat-header-cell *matHeaderCellDef> Tags </th>
            <td mat-cell *matCellDef="let element">
                <mat-chip-set>
                    @for (tag of element.tags; track $index) {
                    <mat-chip>{{tag}}</mat-chip>
                    }
                </mat-chip-set>
            </td>
        </ng-container>

        <ng-container matColumnDef="uploadedOn">
            <th mat-header-cell *matHeaderCellDef> Uploaded on </th>
            <td mat-cell *matCellDef="let element"> {{element.uploadedOn}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</lightgallery>
}